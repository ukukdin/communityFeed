8# communityFeed
JPA 를 활용한 커뮤니티 피드 서비스

* 클린코드로 진행하는 커뮤니티 사이트 
  * 댓글 대댓글을 만들때 생각해야되는 부분을 잘 설명하고있슴.
  * 어떤 이유로 사용을 할까?
    팀원에게 설득을 할때 리펙토링할때 클린아키텍처 해야된다
    중요한 포인트 중 하나인 비용
    -> 클린 아키텍처는 비용을 줄여준다.ㅇ
    어떻게 ? 바로 선택지를 넓힘으로 유연하게 대응 할 수 있게 만들자

선택지를 늘린다는것은 어떤 것을 의미하는것일까?

-> 소프트웨어 이름의 유래 :
어떤 저장 방식을 선택하던, 어떤 프레임 워크 하드웨어를 선택하던 상관없다.
우선적으로 비지니스 로직을 만들면 그 위에 이식할 수 있게 만든다.

￼
컴포넌트 - 시스템의 구성 요소로 배포할 수 있는 가장 작은 단위 ( java-jar)
패키지 단위

데이터 흐름과 소스코드를 나타내는 사진이다.

3가지 협업을 하고있고 글을 읽고  유저에게 보여주는 쓰기

￼

저수준 컴포넌트 - 비지니스 로직보다 유저와 외부에 가까움. 유저의 입출력을 담당한다.
비지니스 로직은 : 문제를 해결하기 위한 핵심 로직이다.
고수준 컴포넌트 : 도메인, 서비스 레이어 : 즉 유저가 직접적으로 접근하는 것보다(디비, 컨트롤러 ) 한 다리를 건너는 안쪽에 있는 컴포넌트입니다.


의존성
￼

왜 의존해서는 안될까??

저수준 컴포넌트는 쉽게 변경되기 때문에 의존해서는 안된다.
커뮤니티 피드 서비스의 본질인 글을 쓸 수 있다는 변경이 잘 안되지만
유저가 늘어남에 따라 db는 캐싱을 도입하거나 테이블 형태가 쉽게 바뀌어야 한다.

만약 이렇게 된다면.. 고수준의 컴포넌트는 저수준이 바뀔때 마다 영향을 받게됨.

￼

하지만 우리가 많이 쓰는 레이어 아키텍처는 저수준 db repository를 의존하지 않나??


방법 :
￼
인터페이스를 이용해 의존성을 역전시켜 DIP를 달성한다.!
이제 데이터베이스 테이블이 변경이 되어도 데이터베이스 자체가 바뀌어도 문제없다.

의존성을 역전시켜 DIP를 구현하게 한다.
이제 데이터베이스 테이블이 변경이 되어도 데이터 베이스 자체가 바뀌어도 문제가없다.
-> 객체지향의 기본적인 원리인 다형성을 유지 하는 기본구조

전체적인 의존성 흐름

￼
이렇게 의존성은 바깥쪽에서 안으로 흐른다. 반대로 흘러서는 안된다.


#일단 mysql 을 도커를 사용한다. 
다음에는 jps qsdl 등 관련 내용ㅇ 업로드 예정
